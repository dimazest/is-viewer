(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,n){e.exports=n(45)},27:function(e,t,n){},43:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"ui",function(){return q}),n.d(a,"data",function(){return L});n(27);var o=n(0),r=n.n(o),c=n(15),i=n.n(c);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=n(3),s=n(8),u=n(19),m=n.n(u),d=n(5),v=n(20),p=n(11),E=(n(37),n(14),n(39),n(40),n(41),n(43),n(7)),f=n.n(E),b=n(21),h=n(22),g=n(24),I=n(23),N=n(25),D=[];var w=function(e){function t(){return Object(b.a)(this,t),Object(g.a)(this,Object(I.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=function(){window.twttr.ready().then(function(t){var n=t.widgets,a=e.props.id;e._div.innerHTML='\n                    <blockquote class="twitter-tweet card-blockquote" data-dnt="true">\n                        <div class="card custom-tweet">\n                            <div class="card-block">\n                                <header>\n                                    <p class="twitter-user-name">'.concat(e.props.user_name,'</p>\n                                        <small class="text-muted">@').concat(e.props.screen_name,'</small>\n                                </header>\n                                            <blockquote class="card-blockquote">\n                                                <p dir="ltr" lang="').concat(e.props.lang,'" class="card-text">\n                                                    ').concat(e.props.text,'\n                                                </p>\n                                                    <small>\n                                                        <a href="https://twitter.com/').concat(e.props.screen_name,"/status/").concat(a,'">').concat(e.props.created_at,"</a>\n                                                    </small>\n                                            </blockquote>\n                            </div>\n                        </div>\n                    </blockquote>\n                "),n.load(e._div)})};if(window.twttr)t();else{var n=window.location.protocol.indexOf("file")>=0?this.props.protocol:"";!function(e,t){if(0===D.length){D.push(t);var n=document.createElement("script");n.setAttribute("src",e),n.onload=function(){return D.forEach(function(e){return e()})},document.body.appendChild(n)}else D.push(t)}("".concat(n,"//platform.twitter.com/widgets.js"),t)}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:this.props.className,ref:function(t){e._div=t}})}}]),t}(r.a.Component);w.defaultProps={protocol:"https:",options:{},className:null};var O=w,j=function(e){return function(t,n){var a=n(),o=f.a.get(a,["data","annotations",e]);if(!o.data)return fetch(o.url).then(function(e){return e.json()}).then(function(n){return t(function(e,t){return{type:"ANNOTATION_RECEIVED",annotationID:e,payload:t}}(e,n))})}},y=function(e,t){return{type:"EVENT_SELECTED",annotationID:e,eventID:t}},C=function(e){var t=e.title,n=e.onChange,a=e.value,o=e.values;return r.a.createElement("div",{className:"input-group input-group-sm mr-2"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},t)),r.a.createElement("select",{className:"custom-select custom-select-sm",onChange:function(e){return n(e.target.value)},value:a},o.map(function(e){var t=Object(p.a)(e,2),n=t[0],a=t[1];return r.a.createElement("option",{value:n,key:n},a)})))},T=function(e){var t=e.annotations,n=e.onChangeAnnotation,a=e.annotationID,o=e.eventID,c=e.onChangeEvent,i=f.a.get(t,[a,"data","annotator","eventsAnnotated"],[]).map(function(e){return[e.identifier,e.name]});return r.a.createElement("nav",{className:"navbar navbar-expand-md navbar-dark bg-dark mb-4"},r.a.createElement("span",{className:"navbar-brand h1 mb-0"},"Incident Streams"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("form",{className:"form-inline"},r.a.createElement(C,{title:"Annotation",onChange:function(e){return n(e)},value:a,values:Object.entries(t).map(function(e){var t=Object(p.a)(e,2);return[t[0],t[1].title]})}),o&&r.a.createElement(C,{title:"Event",onChange:function(e){return c(a,e)},value:o,values:i}))))};T=Object(s.b)(function(e){return{annotations:e.data.annotations,annotationID:e.ui.annotationID,eventID:e.ui.eventID}},function(e){return{onChangeAnnotation:function(t){return e(function(e){return{type:"ANNOTATION_SELECTED",annotationID:e}}(t))},onChangeEvent:function(t,n){return e(y(t,n))}}})(T);var _=function(e){var t=e.title,n=e.categories;return r.a.createElement("div",{className:"card mb-4",style:{minWidth:"200px"}},r.a.createElement("div",{className:"card-header"},r.a.createElement("h5",null,t)),r.a.createElement("ul",{className:"list-group list-group-flush"},n.map(function(e){return r.a.createElement("li",{className:"list-group-item",key:e},e)})))},A=function(){return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement(_,{title:"Request",categories:["Goods and Services","Search and Rescue","Information Wanted"]})),r.a.createElement("div",{className:"col"},r.a.createElement(_,{title:"Call to Action",categories:["Volunteer","Donations","Move People"]}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement(_,{title:"Report",categories:["First Party Observation","Third Party Observation","Weather","Emerging Threats","Significant Event Change","Multimedia Share","Service Available","Factoid","Official","Clenaup","Hashtags"]})),r.a.createElement("div",{className:"col"},r.a.createElement(_,{title:"Other",categories:["Past News","Continuing News","Advice","Sentiment","Discussion","Irrelevant","Unknown","Known already"]}))))},k=function(){return r.a.createElement("div",null,r.a.createElement(T,null),r.a.createElement("main",{className:"container-fluid",role:"main"},r.a.createElement("div",{className:"row mx-1"},r.a.createElement("div",{className:"col jumbotron mx-auto",style:{minWidth:"300px",maxWidth:"500px"}},r.a.createElement(O,{id:"1050095243318714368"})),r.a.createElement("div",{className:"col jumbotron ml-2"},r.a.createElement(A,null)))),r.a.createElement("footer",{className:"footer"},r.a.createElement("div",{className:"container"},r.a.createElement("span",{className:"text-muted"},"Navigatoin trough the stream."))))},S=n(6),x=n(2),q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ANNOTATION_SELECTED":return Object(x.a)({},e,{annotationID:t.annotationID,eventID:void 0});case"EVENT_SELECTED":return Object(x.a)({},e,{eventID:t.eventID,eventIDbyAnnotationID:Object(x.a)({},e.eventIDbyAnnotationID,Object(S.a)({},t.annotationID,t.eventID))});case"RESET_UI_EVENT_SELECTION":return Object(x.a)({},e,{eventID:void 0});default:return e}},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ANNOTATION_RECEIVED":return Object(x.a)({},e,{annotations:Object(x.a)({},e.annotations,Object(S.a)({},t.annotationID,Object(x.a)({},e.annotations[t.annotationID]||{},{data:t.payload})))});default:return e}},R=[Object(d.observer)(function(e){return e.ui.annotationID},function(e,t,n){e(j(t))}),Object(d.observer)(function(e){return{annotationID:e.ui.annotationID,eventID:e.ui.eventID,annotation:e.data.annotations[e.ui.annotationID],defaultEventID:e.ui.eventIDbyAnnotationID[e.ui.annotationID]}},function(e,t,n){var a=t.annotationID,o=t.eventID,r=t.annotation,c=t.defaultEventID;r.data||e({type:"RESET_UI_EVENT_SELECTION"}),r.data&&!o&&e(y(a,c||r.data.events[0].eventid))})],V=Object(l.c)(a),W=window._state,P=Object(l.d)(V,W,Object(l.a)(v.a,m.a));window.store=P,Object(d.observe)(P,R),P.dispatch(j(W.ui.annotationID)),i.a.render(r.a.createElement(s.a,{store:P},r.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,2,1]]]);
//# sourceMappingURL=main.924e0c4f.chunk.js.map